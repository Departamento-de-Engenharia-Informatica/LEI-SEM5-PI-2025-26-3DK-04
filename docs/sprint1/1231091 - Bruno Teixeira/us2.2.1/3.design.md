## 3. Design

### 3.1. System Sequence Diagram (SSD)

![SSD Create Vessel Type](sdUS2.2.1_create.svg)

![SSD Update Vessel Type](sdUS2.2.1_update.svg)

---

### 3.2. Interaction Responsibility Assignment

| Interaction Step                                 | Question: Which class is responsible for…      | Class                         | Justification (with patterns)                                               |
|--------------------------------------------------|------------------------------------------------|-------------------------------|----------------------------------------------------------------------------|
| Step 1: Officer requests to create a vessel type | Handling user input and triggering the process | `VesselTypesController`       | **Controller:** Coordinates actions and delegates to application services. |
| Step 2: Validate and process business logic      | Validating input and executing business rules  | `VesselTypeService`           | **Information Expert:** Centralizes the business logic.                    |
| Step 3: Create/Update domain entity              | Managing vessel type data and validation       | `VesselType`                  | **Information Expert:** Domain entity holds relevant knowledge.            |
| Step 4: Persist data                             | Saving vessel type                             | `IVesselTypeRepository`       | **Repository Pattern:** Handles data persistence logic.                    |
| Step 5: Feedback to user                         | Showing success message                        | `VesselTypesController`       | **Controller:** Manages user interaction and result display.               |

---

### 3.3. Sequence Diagram



### 3.4. SOLID Principles

| Principle                                     | Application in US_2.2.1                                                                              | Explanation                                         |
|----------------------------------------------|------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| **S – Single Responsibility Principle (SRP)** | `VesselTypesController` handles only coordination of business logic.                                | Keeps UI, logic, and persistence separated.         |
|                                              | `VesselTypeService` validates and processes business rules.                                         | Focused solely on vessel type management logic.     |
|                                              | `VesselType` encapsulates domain logic.                                                             | Isolates business entities from infrastructure.     |
| **O – Open/Closed Principle (OCP)**           | Services and domain classes can be extended with new validations without changing existing logic.    | Allows extensibility with minimal modification.     |
| **L – Liskov Substitution Principle (LSP)**   | `IVesselTypeRepository` can be replaced by any implementation (e.g., SQL, in-memory).                | Promotes interchangeable components.                |
| **I – Interface Segregation Principle (ISP)** | Interfaces like `IVesselTypeRepository` are focused on essential operations (`save`, `findById`).    | Prevents unnecessary dependencies.                  |
| **D – Dependency Inversion Principle (DIP)**  | The controller depends on abstractions (`IVesselTypeRepository`).                                    | Promotes decoupling and enables testing with mocks. |

---

### 3.5. GoF Patterns

| Pattern                          | Usage in US_2.2.1                                                                                    | Explanation                                       |
|----------------------------------|------------------------------------------------------------------------------------------------------|---------------------------------------------------|
| **Controller**                   | `VesselTypesController` coordinates the flow between UI, domain, and persistence.                   | Acts as mediator between layers.                  |
| **Repository**                   | `IVesselTypeRepository` encapsulates persistence operations.                                         | Abstracts database access.                        |
| **Information Expert**           | `VesselType` contains its own validation logic.                                                      | Domain entity holds relevant knowledge.           |
| **Pure Fabrication**             | `VesselTypeService` exists for technical separation of concerns.                                     | Improves maintainability and testability.         |
| **Low Coupling / High Cohesion** | Clear separation between layers and well-defined responsibilities.                                   | Reduces interdependencies and increases cohesion. |

---