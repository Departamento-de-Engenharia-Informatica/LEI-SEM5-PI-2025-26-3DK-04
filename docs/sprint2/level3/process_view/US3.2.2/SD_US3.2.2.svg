<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2609px" preserveAspectRatio="none" style="width:1666px;height:2609px;background:#FFFFFF;" version="1.1" viewBox="0 0 1666 2609" width="1666px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="664" x="503.25" y="29.5332">System Sequence Diagram - US 3.2.2: Auto-load Internal Authorization Role After Authentication</text><rect fill="#FFFFFF" height="2385.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="67.5" y="131.2188"/><rect fill="#FFFFFF" height="1042.0078" style="stroke:#181818;stroke-width:1.0;" width="10" x="274.5" y="153.5703"/><rect fill="#FFFFFF" height="1011.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="465.5" y="183.9219"/><rect fill="#FFFFFF" height="182.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="670.5" y="2101.2344"/><rect fill="#FFFFFF" height="260.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="455.0859"/><rect fill="#FFFFFF" height="356.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="762.3047"/><rect fill="#FFFFFF" height="183.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1100.5" y="485.4375"/><rect fill="#FFFFFF" height="235.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1100.5" y="836.0078"/><rect fill="#FFFFFF" height="99.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1296.5" y="926.0625"/><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1467.5" y="230.625"/><rect fill="#FFFFFF" height="90.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1467.5" y="548.4922"/><rect fill="none" height="1569.1484" style="stroke:#000000;stroke-width:1.5;" width="1467.5" x="10" y="941.0625"/><rect fill="none" height="1156.3906" style="stroke:#000000;stroke-width:1.5;" width="1034.5" x="20" y="1346.8203"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="279" x2="279" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="470" x2="470" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="675.5" x2="675.5" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="880" x2="880" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1105.5" x2="1105.5" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1301" x2="1301" y1="121.2188" y2="2527.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1472" x2="1472" y1="121.2188" y2="2527.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="30" y="118.1426">System User</text><ellipse cx="72.5" cy="52.1094" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.5,60.1094 L72.5,87.1094 M59.5,68.1094 L85.5,68.1094 M72.5,87.1094 L59.5,102.1094 M72.5,87.1094 L85.5,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="30" y="2540.7441">System User</text><ellipse cx="72.5" cy="2552.3203" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.5,2560.3203 L72.5,2587.3203 M59.5,2568.3203 L85.5,2568.3203 M72.5,2587.3203 L59.5,2602.3203 M72.5,2587.3203 L85.5,2602.3203 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="223" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="230" y="110.1426">SPA (Frontend)</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="223" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="230" y="2547.7441">SPA (Frontend)</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="451" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="458" y="110.1426">App</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="451" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="458" y="2547.7441">App</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="630.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="637.5" y="110.1426">AuthService</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="630.5" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="637.5" y="2547.7441">AuthService</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="828" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="835" y="110.1426">AuthController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="828" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="835" y="2547.7441">AuthController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1037.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1044.5" y="110.1426">GoogleAuthService</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1037.5" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1044.5" y="2547.7441">GoogleAuthService</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1246" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1253" y="110.1426">UserRepository</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1246" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1253" y="2547.7441">UserRepository</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1429" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1436" y="110.1426">Google IAM</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="1429" y="2526.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1436" y="2547.7441">Google IAM</text><rect fill="#FFFFFF" height="2385.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="67.5" y="131.2188"/><rect fill="#FFFFFF" height="1042.0078" style="stroke:#181818;stroke-width:1.0;" width="10" x="274.5" y="153.5703"/><rect fill="#FFFFFF" height="1011.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="465.5" y="183.9219"/><rect fill="#FFFFFF" height="182.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="670.5" y="2101.2344"/><rect fill="#FFFFFF" height="260.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="455.0859"/><rect fill="#FFFFFF" height="356.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="762.3047"/><rect fill="#FFFFFF" height="183.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1100.5" y="485.4375"/><rect fill="#FFFFFF" height="235.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1100.5" y="836.0078"/><rect fill="#FFFFFF" height="99.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1296.5" y="926.0625"/><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1467.5" y="230.625"/><rect fill="#FFFFFF" height="90.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1467.5" y="548.4922"/><polygon fill="#181818" points="262.5,149.5703,272.5,153.5703,262.5,157.5703,266.5,153.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="268.5" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="84.5" y="148.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="95.5" y="148.7139">Clicks "Login with Google"</text><polygon fill="#181818" points="453.5,179.9219,463.5,183.9219,453.5,187.9219,457.5,183.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="459.5" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="291.5" y="179.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="302.5" y="179.0654">login()</text><polygon fill="#181818" points="1455.5,226.625,1465.5,230.625,1455.5,234.625,1459.5,230.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="475.5" x2="1461.5" y1="230.625" y2="230.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="482.5" y="217.5928">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="493.5" y="209.417">Redirect to Google OAuth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="493.5" y="225.7686">(client_id, redirect_uri, scope)</text><polygon fill="#181818" points="88.5,256.9766,78.5,260.9766,88.5,264.9766,84.5,260.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="1466.5" y1="260.9766" y2="260.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="94.5" y="256.1201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="105.5" y="256.1201">Prompts for Google credentials</text><polygon fill="#181818" points="1455.5,287.3281,1465.5,291.3281,1455.5,295.3281,1459.5,291.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="77.5" x2="1461.5" y1="291.3281" y2="291.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="84.5" y="286.4717">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="95.5" y="286.4717">Provides credentials</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477.5" x2="1519.5" y1="321.6797" y2="321.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1519.5" x2="1519.5" y1="321.6797" y2="334.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1478.5" x2="1519.5" y1="334.6797" y2="334.6797"/><polygon fill="#181818" points="1488.5,330.6797,1478.5,334.6797,1488.5,338.6797,1484.5,334.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1484.5" y="316.8232">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1495.5" y="316.8232">Authenticate user</text><polygon fill="#181818" points="486.5,361.0313,476.5,365.0313,486.5,369.0313,482.5,365.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480.5" x2="1471.5" y1="365.0313" y2="365.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="492.5" y="360.1748">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="503.5" y="360.1748">Redirect with authorization code</text><line style="stroke:#181818;stroke-width:1.0;" x1="475.5" x2="517.5" y1="395.3828" y2="395.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="517.5" x2="517.5" y1="395.3828" y2="408.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="476.5" x2="517.5" y1="408.3828" y2="408.3828"/><polygon fill="#181818" points="486.5,404.3828,476.5,408.3828,486.5,412.3828,482.5,408.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="482.5" y="390.5264">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="493.5" y="390.5264">handleGoogleCallback()</text><path d="M642,381.5313 L642,407.5313 L849,407.5313 L849,391.5313 L839,381.5313 L642,381.5313 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M839,381.5313 L839,391.5313 L849,391.5313 L839,381.5313 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="648" y="400.0264">Extracts code from URL params</text><polygon fill="#181818" points="863.5,451.0859,873.5,455.0859,863.5,459.0859,867.5,455.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="475.5" x2="869.5" y1="455.0859" y2="455.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="482.5" y="442.0537">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="493.5" y="433.8779">POST /auth/google</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="493.5" y="450.2295">(Body: { code })</text><polygon fill="#181818" points="1088.5,481.4375,1098.5,485.4375,1088.5,489.4375,1092.5,485.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885.5" x2="1094.5" y1="485.4375" y2="485.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="892.5" y="480.5811">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="910.5" y="480.5811">ExchangeCodeForToken(code)</text><polygon fill="#181818" points="1455.5,544.4922,1465.5,548.4922,1455.5,552.4922,1459.5,548.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1110.5" x2="1461.5" y1="548.4922" y2="548.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1117.5" y="527.2842">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1135.5" y="510.9326">POST https://oauth2.googleapis.com/token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1135.5" y="527.2842">(code, client_id, client_secret,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1135.5" y="543.6357">redirect_uri, grant_type)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477.5" x2="1519.5" y1="578.8438" y2="578.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1519.5" x2="1519.5" y1="578.8438" y2="591.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1478.5" x2="1519.5" y1="591.8438" y2="591.8438"/><polygon fill="#181818" points="1488.5,587.8438,1478.5,591.8438,1488.5,595.8438,1484.5,591.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1484.5" y="573.9873">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1502.5" y="573.9873">Validate authorization code</text><polygon fill="#181818" points="1121.5,634.5469,1111.5,638.5469,1121.5,642.5469,1117.5,638.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1115.5" x2="1471.5" y1="638.5469" y2="638.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1127.5" y="625.5146">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1145.5" y="617.3389">TokenResponse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1145.5" y="633.6904">{ id_token, access_token }</text><polygon fill="#181818" points="896.5,664.8984,886.5,668.8984,896.5,672.8984,892.5,668.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890.5" x2="1104.5" y1="668.8984" y2="668.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="902.5" y="664.042">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="920.5" y="664.042">TokenResponse</text><polygon fill="#181818" points="486.5,711.6016,476.5,715.6016,486.5,719.6016,482.5,715.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480.5" x2="879.5" y1="715.6016" y2="715.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="492.5" y="702.5693">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="510.5" y="694.3936">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="510.5" y="710.7451">{ idToken, accessToken }</text><polygon fill="#181818" points="863.5,758.3047,873.5,762.3047,863.5,766.3047,867.5,762.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="475.5" x2="869.5" y1="762.3047" y2="762.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="482.5" y="749.2725">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="500.5" y="741.0967">POST /auth/google/user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="500.5" y="757.4482">(Body: { idToken })</text><line style="stroke:#181818;stroke-width:1.0;" x1="885.5" x2="927.5" y1="792.6563" y2="792.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="927.5" x2="927.5" y1="792.6563" y2="805.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="927.5" y1="805.6563" y2="805.6563"/><polygon fill="#181818" points="896.5,801.6563,886.5,805.6563,896.5,809.6563,892.5,805.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="892.5" y="787.7998">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="910.5" y="787.7998">Validate idToken not empty</text><polygon fill="#181818" points="1088.5,832.0078,1098.5,836.0078,1088.5,840.0078,1092.5,836.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885.5" x2="1094.5" y1="836.0078" y2="836.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="892.5" y="831.1514">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="910.5" y="831.1514">GetUser(tokenResponse)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1110.5" x2="1152.5" y1="882.7109" y2="882.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1152.5" x2="1152.5" y1="882.7109" y2="895.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1111.5" x2="1152.5" y1="895.7109" y2="895.7109"/><polygon fill="#181818" points="1121.5,891.7109,1111.5,895.7109,1121.5,899.7109,1117.5,895.7109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1117.5" y="869.6787">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1135.5" y="861.5029">Decode JWT token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1135.5" y="877.8545">(extract email from claims)</text><polygon fill="#181818" points="1284.5,922.0625,1294.5,926.0625,1284.5,930.0625,1288.5,926.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1110.5" x2="1290.5" y1="926.0625" y2="926.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1117.5" y="921.2061">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1135.5" y="921.2061">GetByEmailAsync(email)</text><path d="M10,941.0625 L71,941.0625 L71,949.4141 L61,959.4141 L10,959.4141 L10,941.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1569.1484" style="stroke:#000000;stroke-width:1.5;" width="1467.5" x="10" y="941.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="955.5576">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="156" x="86" y="954.4814">[User not found in database]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1306.5" x2="1348.5" y1="981.7656" y2="981.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1348.5" x2="1348.5" y1="981.7656" y2="994.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1307.5" x2="1348.5" y1="994.7656" y2="994.7656"/><polygon fill="#181818" points="1317.5,990.7656,1307.5,994.7656,1317.5,998.7656,1313.5,994.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1313.5" y="976.9092">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1331.5" y="976.9092">Query database</text><polygon fill="#181818" points="1121.5,1021.1172,1111.5,1025.1172,1121.5,1029.1172,1117.5,1025.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1115.5" x2="1300.5" y1="1025.1172" y2="1025.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1127.5" y="1020.2607">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1145.5" y="1020.2607">null (user not found)</text><polygon fill="#181818" points="896.5,1067.8203,886.5,1071.8203,896.5,1075.8203,892.5,1071.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890.5" x2="1104.5" y1="1071.8203" y2="1071.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="902.5" y="1058.7881">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="920.5" y="1050.6123">Exception:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="920.5" y="1066.9639">"User not on database"</text><polygon fill="#181818" points="486.5,1114.5234,476.5,1118.5234,486.5,1122.5234,482.5,1118.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="480.5" x2="879.5" y1="1118.5234" y2="1118.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="492.5" y="1105.4912">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="510.5" y="1097.3154">404 Not Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="510.5" y="1113.667">{ error: "User not found" }</text><polygon fill="#181818" points="295.5,1144.875,285.5,1148.875,295.5,1152.875,291.5,1148.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.5" x2="464.5" y1="1148.875" y2="1148.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="301.5" y="1144.0186">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="319.5" y="1144.0186">Display error alert</text><polygon fill="#181818" points="88.5,1191.5781,78.5,1195.5781,88.5,1199.5781,84.5,1195.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="278.5" y1="1195.5781" y2="1195.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="94.5" y="1182.5459">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="112.5" y="1174.3701">Shows error message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="112.5" y="1190.7217">"User not found"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1477.5" y1="1204.5781" y2="1204.5781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="15" y="1215.9971">[User found]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1343.5" y1="1258.1172" y2="1258.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1343.5" x2="1343.5" y1="1258.1172" y2="1271.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1302.5" x2="1343.5" y1="1271.1172" y2="1271.1172"/><polygon fill="#181818" points="1312.5,1267.1172,1302.5,1271.1172,1312.5,1275.1172,1308.5,1271.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1308.5" y="1245.085">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1326.5" y="1236.9092">Query database for user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="1326.5" y="1253.2607">by email</text><polygon fill="#181818" points="1116.5,1297.4688,1106.5,1301.4688,1116.5,1305.4688,1112.5,1301.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1110.5" x2="1300.5" y1="1301.4688" y2="1301.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1122.5" y="1296.6123">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1140.5" y="1296.6123">User entity</text><polygon fill="#181818" points="891.5,1327.8203,881.5,1331.8203,891.5,1335.8203,887.5,1331.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="885.5" x2="1104.5" y1="1331.8203" y2="1331.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="897.5" y="1326.9639">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="915.5" y="1326.9639">User</text><path d="M20,1346.8203 L81,1346.8203 L81,1355.1719 L71,1365.1719 L20,1365.1719 L20,1346.8203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1156.3906" style="stroke:#000000;stroke-width:1.5;" width="1034.5" x="20" y="1346.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="1361.3154">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153" x="96" y="1360.2393">[User has no assigned role]</text><line style="stroke:#181818;stroke-width:1.0;" x1="880.5" x2="922.5" y1="1406.3906" y2="1406.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="922.5" x2="922.5" y1="1406.3906" y2="1419.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.5" x2="922.5" y1="1419.3906" y2="1419.3906"/><polygon fill="#181818" points="891.5,1415.3906,881.5,1419.3906,891.5,1423.3906,887.5,1419.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="887.5" y="1392.1006">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="905.5" y="1382.667">Check user.GetRole()</text><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacing" textLength="98" x="905.5" y="1401.0947">Roles.NoRole</text><polygon fill="#181818" points="481.5,1478.4453,471.5,1482.4453,481.5,1486.4453,477.5,1482.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="475.5" x2="879.5" y1="1482.4453" y2="1482.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="487.5" y="1461.2373">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="505.5" y="1444.8857">401 Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="505.5" y="1461.2373">{ error: "User has no assigned role.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="505.5" y="1477.5889">Access denied." }</text><polygon fill="#181818" points="290.5,1508.7969,280.5,1512.7969,290.5,1516.7969,286.5,1512.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="469.5" y1="1512.7969" y2="1512.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="296.5" y="1507.9404">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="314.5" y="1507.9404">Display error alert</text><polygon fill="#181818" points="88.5,1571.8516,78.5,1575.8516,88.5,1579.8516,84.5,1575.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="278.5" y1="1575.8516" y2="1575.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="94.5" y="1554.6436">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="112.5" y="1538.292">Shows error message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="112.5" y="1554.6436">"User has no assigned role.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="112.5" y="1570.9951">Access denied."</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1054.5" y1="1584.8516" y2="1584.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138" x="25" y="1596.2705">[User account is inactive]</text><line style="stroke:#181818;stroke-width:1.0;" x1="880.5" x2="922.5" y1="1638.3906" y2="1638.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="922.5" x2="922.5" y1="1638.3906" y2="1651.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.5" x2="922.5" y1="1651.3906" y2="1651.3906"/><polygon fill="#181818" points="891.5,1647.3906,881.5,1651.3906,891.5,1655.3906,887.5,1651.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="887.5" y="1625.3584">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="905.5" y="1617.1826">Check user.GetRole()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="905.5" y="1633.5342">!= Roles.NoRole</text><line style="stroke:#181818;stroke-width:1.0;" x1="880.5" x2="922.5" y1="1700.6094" y2="1700.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="922.5" x2="922.5" y1="1700.6094" y2="1713.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.5" x2="922.5" y1="1713.6094" y2="1713.6094"/><polygon fill="#181818" points="891.5,1709.6094,881.5,1713.6094,891.5,1717.6094,887.5,1713.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="887.5" y="1686.3193">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="905.5" y="1676.8857">Check user.GetStatus()</text><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacing" textLength="105" x="905.5" y="1695.3135">Status.Inactive</text><polygon fill="#181818" points="481.5,1772.6641,471.5,1776.6641,481.5,1780.6641,477.5,1776.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="475.5" x2="879.5" y1="1776.6641" y2="1776.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="487.5" y="1755.4561">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="505.5" y="1739.1045">401 Unauthorized</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="505.5" y="1755.4561">{ error: "User account is Inactive.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="505.5" y="1771.8076">Access denied." }</text><polygon fill="#181818" points="290.5,1803.0156,280.5,1807.0156,290.5,1811.0156,286.5,1807.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="469.5" y1="1807.0156" y2="1807.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="296.5" y="1802.1592">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="314.5" y="1802.1592">Display error alert</text><polygon fill="#181818" points="88.5,1866.0703,78.5,1870.0703,88.5,1874.0703,84.5,1870.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="278.5" y1="1870.0703" y2="1870.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="94.5" y="1848.8623">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="112.5" y="1832.5107">Shows error message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="112.5" y="1848.8623">"User account is Inactive.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="112.5" y="1865.2139">Access denied."</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1054.5" y1="1879.0703" y2="1879.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="25" y="1890.4893">[User is active with valid role]</text><line style="stroke:#181818;stroke-width:1.0;" x1="880.5" x2="922.5" y1="1932.6094" y2="1932.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="922.5" x2="922.5" y1="1932.6094" y2="1945.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.5" x2="922.5" y1="1945.6094" y2="1945.6094"/><polygon fill="#181818" points="891.5,1941.6094,881.5,1945.6094,891.5,1949.6094,887.5,1945.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="887.5" y="1919.5771">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="905.5" y="1911.4014">Check user.GetRole()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="905.5" y="1927.7529">!= Roles.NoRole</text><line style="stroke:#181818;stroke-width:1.0;" x1="880.5" x2="922.5" y1="1994.8281" y2="1994.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="922.5" x2="922.5" y1="1994.8281" y2="2007.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="881.5" x2="922.5" y1="2007.8281" y2="2007.8281"/><polygon fill="#181818" points="891.5,2003.8281,881.5,2007.8281,891.5,2011.8281,887.5,2007.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="887.5" y="1980.5381">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="905.5" y="1971.1045">Check user.GetStatus()</text><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacing" textLength="93" x="905.5" y="1989.5322">Status.Active</text><polygon fill="#181818" points="481.5,2050.5313,471.5,2054.5313,481.5,2058.5313,477.5,2054.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="475.5" x2="879.5" y1="2054.5313" y2="2054.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="487.5" y="2041.499">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="505.5" y="2033.3232">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="505.5" y="2049.6748">{ email, name, foto, role, status }</text><polygon fill="#181818" points="658.5,2097.2344,668.5,2101.2344,658.5,2105.2344,662.5,2101.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="470.5" x2="664.5" y1="2101.2344" y2="2101.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="477.5" y="2088.2021">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="495.5" y="2080.0264">setToken(idToken, name,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="495.5" y="2096.3779">email, picture, role, status)</text><line style="stroke:#181818;stroke-width:1.0;" x1="680.5" x2="722.5" y1="2164.2891" y2="2164.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="722.5" x2="722.5" y1="2164.2891" y2="2177.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="681.5" x2="722.5" y1="2177.2891" y2="2177.2891"/><polygon fill="#181818" points="691.5,2173.2891,681.5,2177.2891,691.5,2181.2891,687.5,2177.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="687.5" y="2143.0811">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="705.5" y="2126.7295">Set signals:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="705.5" y="2143.0811">_token, _userName, _email,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="705.5" y="2159.4326">_picture, _role, _status</text><line style="stroke:#181818;stroke-width:1.0;" x1="680.5" x2="722.5" y1="2240.3438" y2="2240.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="722.5" x2="722.5" y1="2240.3438" y2="2253.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="681.5" x2="722.5" y1="2253.3438" y2="2253.3438"/><polygon fill="#181818" points="691.5,2249.3438,681.5,2253.3438,691.5,2257.3438,687.5,2253.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="687.5" y="2219.1357">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="705.5" y="2202.7842">Store in localStorage:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="705.5" y="2219.1357">token, userName, email,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="705.5" y="2235.4873">picture, role, status</text><polygon fill="#181818" points="481.5,2279.6953,471.5,2283.6953,481.5,2287.6953,477.5,2283.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="475.5" x2="674.5" y1="2283.6953" y2="2283.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="487.5" y="2278.8389">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="505.5" y="2278.8389">Token and user data stored</text><line style="stroke:#181818;stroke-width:1.0;" x1="470.5" x2="512.5" y1="2351.4258" y2="2351.4258"/><line style="stroke:#181818;stroke-width:1.0;" x1="512.5" x2="512.5" y1="2351.4258" y2="2364.4258"/><line style="stroke:#181818;stroke-width:1.0;" x1="471.5" x2="512.5" y1="2364.4258" y2="2364.4258"/><polygon fill="#181818" points="481.5,2360.4258,471.5,2364.4258,481.5,2368.4258,477.5,2364.4258" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="477.5" y="2346.5693">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="495.5" y="2346.5693">goToRoleUI()</text><path d="M581,2296.6953 L581,2404.6953 L809,2404.6953 L809,2306.6953 L799,2296.6953 L581,2296.6953 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M799,2296.6953 L799,2306.6953 L809,2306.6953 L799,2296.6953 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="587" y="2315.1904">Navigate based on role:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="587" y="2331.542">Admin &#8594; /admin</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="587" y="2347.8936">Representative &#8594; /representative</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="587" y="2364.2451">PortAuthorityOfficer &#8594; /port-officer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="587" y="2380.5967">LogisticsOperator &#8594; /logistics</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="587" y="2396.9482">ProjectManager &#8594; /project-manager</text><polygon fill="#181818" points="290.5,2444.5078,280.5,2448.5078,290.5,2452.5078,286.5,2448.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="469.5" y1="2448.5078" y2="2448.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="296.5" y="2435.4756">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="314.5" y="2427.2998">Update UI with user menu</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="314.5" y="2443.6514">(role-specific options)</text><polygon fill="#181818" points="88.5,2491.2109,78.5,2495.2109,88.5,2499.2109,84.5,2495.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="278.5" y1="2495.2109" y2="2495.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="94.5" y="2482.1787">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="112.5" y="2474.0029">Displays role-based menu</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="112.5" y="2490.3545">and redirects to role page</text><!--SRC=[rLZTJYCt5BwVfpZDLI8bWTAzYhILih2iQ7U14jBUH8hCp4dYCh6djWSsNUrj7w2Fs2VfiJr_dYGYmAfIaO0P-_WxVz-nZqVVSv4nnTQmbaB6AoNN24Rb6Ebg9cFnFLlYn6nI18MnOMAPDWNqYYNoaOibB5YgCOeCDoGwsMY3QvZW7pcA6E6CiwKL7y1q0ZyCJuOd8nZdHWvIoHAu40QLOAaTMad5_sI6Im4taf362vfp4oWCZzrC535QA_Br7IfwZerKq2bKJZMg3Z3j7Y8oaXRnZ0b34jTZw9uhITf4qdD2vLieECuoDql_MnDanWJL0u_H2zJlsuAd1AracXRsX4EX-0SfAQnjzAtHS95ry0OpgJdvlwbyjaExqE5Y_Aa1IsykTFo16VJ1idzWy6CLb16SfZo-rz3vA9TSm2Ctgs9rfrvQXJ0gdom6XMu4gLtMxTMoDg0H_R4IbHaZkC64MtA1aSKmN5ctPw8RfvpoFkT9d-ZdfUQvudtGiSom0TtmgdgqQgnJ8xWcScT6muAOKcY82SzIYcXRUTwmYLOyy0Hr81SWDuGRz4J8RIoRecKuAZTT85d0zLWc62MuovqYNWvYnKIIefyyPMbwH_L90HQIbYY-N9aHlFzi5C5e1maBSXocDn_1bQkkqG8sahjNariuiZOTBHqwnVwTJ3OZ-EA1lZRJ658v2j_hs3IeQ-sAoVebdXBQkLItyXuflVIobSGcuwEjeNQUhE4hOp8zEZgIre6JeVU0PLmFOxa-CbRLp2lhGuDHnQD6oh7fpqJ8CDgmQD9i3g9Pmw9VMSeJAxiZmorQx0YJYyiDwamAJKdu0ZoPEmVwmE8OjVPly7KFMtR4QqUw0otRI446sjajkNXoV0nNFtiJRviMtcuRkCMO0rbuP8kfGSL2qpFPs5PJPQY4e_e1f0rYSo2NFw2nMqRNDCFuOXu7q6VeoksdtswXv2twYYOB6KzzHSSfuslTsmDR7WFEq7URztRTM6z4t7KGlN3VTmT6n5BZtbmi5ZAdRPosV8eIksD44Q2VKZXKyKkEQXCAjgHtEohoD8Lk7gZikPKDtbJsLR27yPis6ynisOrcebEv9Mk7EcrDsochLEuhW3V7R-2IOC-jwROEK2b9oZjX73jK2YrbBShMcdnPr0Vm6TTPoZOU6HW96oTO7xNL4JTPoKTT2Awf2gbj2vptjcnPGYToQwWwq94QEiy9j_PW3hXJrXVktSQpzd1QE7tsBALY_4PaSCtDuUckAc55pPAGr39flXIO0E5viLsas5PxkiButiLXI6LeczbkRoRUldLzhHvUofictbxWcctVmrIKPmfk4swNkSEP6BizcNmN79DXISQd2HaQTIWnNq3Em-pUQNL1tdq4jkCrYUbm8XeRu9fsDYVy-cn-zzniFWKyCSpakY2AVnbUjArzFLSQiIZH_mzKESZirpE5u3suxzGVRBlmRQh_F-7B-9bigHivjrVtGR0rDSeBQMJVkKstBOVyAa84kxn6uoy0LUleTCv4OK76OvCh3DNtAiX0TtC3t_AtqHK51apGWDrlw5P7x2exxBaDwwNpVkujeRdAbhatPkwjUQO-kgEZxQXI6RFKldbU5ufhlQNQdH5uGcUPKD_KqbNHuRfpcG38W6HV_lR7i77vNCfRnzhfHRTEHVFgUSaU-D92sYuWiUsMDPwy72ThSlsVl_wcvju-pgXfpXHgEkUPgpCtfOAncRYMoXHVXCpcQh4W0vMNp6Xc8Ft8JDYl4vekt_egGyNino0db9R3XAJaxtIl-yG4HRt4y6E3jHyyO2ERPkxICBtmsuABxHf5JYswzNEWCumvsGJIjPuDlkxOvefTKRiG3Np0F9ZDMtaJrVQJY9MW-_iINxopsMQEVbkzLFGl]--></g></svg>