import { Injectable } from "@angular/core";

@Injectable({
  providedIn: "root"
})
export class TranslationService {

  private currentLang = 'en';

  private translations: any = {

    en: {
      appTitle: "Project",
      appSubtitle: "Group Work Portal",
      menuHome: "Home",
      menuAbout: "About",
      menuGroupMembers: "Group Members",
      menuFunctionalities: "Functionalities",
      userInfo: "User Info",
      hello: "Hello",
      login: "Login",
      logout: "Logout",
      heroTitle: "The port of Amsterdam",
      heroSubtitle: "On our way to a climate-neutral port",
      aboutTitle: "About the Project",
      aboutText: "This page contains the project description and group information.",
      groupMembersTitle: "Group Members",

      members: [
        { name: "João Monteiro", number: "1230762" },
        { name: "Luís Baller", number: "1230725" },
        { name: "Alexandre Teixeira", number: "1230946" },
        { name: "Bruno Teixeira", number: "123XXXX" },
        { name: "Student Five", number: "Number 5" }
      ],

      // GLOBAL ACTIONS (Used directly via t('edit'), t('create'), etc.)
      actions: "Actions",
      edit: "Edit",
      create: "Create",
      saveChanges: "Save Changes",
      confirm: "Confirm",
      cancel: "Cancel",
      clear: "Clear",

      userSection: { title: "User", name: "Name", email: "Email", role: "Role", status: "Status", picture: "Picture" },

      adminUI: {
        title: "Admin Panel",
        subtitle: "Select an administration action:",
        cards: {
          manageStaffMembers: "Manage Staff Members",
          manageStaffMembersDesc: "Create, edit or manage staff members and their qualifications",
          manageQualifications: "Manage Qualifications",
          manageQualificationsDesc: "Create, edit or delete qualifications for staff members",
          managePhysicalResources: "Manage Physical Resources",
          managePhysicalResourcesDesc: "Create, edit or manage physical resources and their statuses",
          manageVesselVisitNotifications: "Manage Vessel Visit Notifications",
          manageVesselVisitNotificationsDesc: "Create, edit or manage vessel visit notifications"
        },
        // NEW KEYS
        filter: "Filter",
        clear: "Clear",
        refresh: "Refresh"
      },
      representativeUI: { title: "Representative Dashboard", subtitle: "Overview of your assigned tasks" },
      portAuthorityUI: { title: "Port Authority Dashboard", subtitle: "Port operational management" },
      logisticsUI: { title: "Logistics Dashboard", subtitle: "Cargo and transport management" },
      projectManagerUI: { title: "Project Manager Dashboard", subtitle: "Team and planning tools" },

      cards: {
        manageUsers: "Manage Users",
        manageUsersDesc: "Edit roles and permissions",
        logs: "System Logs",
        logsDesc: "View activity logs",
        reports: "Reports",
        reportsDesc: "Access system reports",
        vesselScheduling: "Vessel Scheduling",
        vesselSchedulingDesc: "Calculate optimal vessel scheduling to minimize delays",
        manageDocks: "Manage Docks",
        manageDocksDesc: "Add, edit, or remove docks",
        manageStorageAreas: "Manage Storage Areas",
        manageStorageAreasDesc: "Create, edit or remove storage areas",
        manageStaffMembers: "Manage Staff Members",
        manageStaffMembersDesc: "Create, edit or manage staff members and their qualifications",
        manageQualifications: "Manage Qualifications",
        manageQualificationsDesc: "Create, edit or delete qualifications for staff members",
        managePhysicalResources: "Manage Physical Resources",
        managePhysicalResourcesDesc: "Create, edit or manage physical resources and their statuses",
        requests: "Handle Requests",
        requestsDesc: "Review pending client requests",
        info: "Company Info",
        infoDesc: "View registered company data",
        inspection: "Port Inspections",
        inspectionDesc: "Monitor port inspection data",
        cargo: "Manage Cargo",
        cargoDesc: "Track cargo assignments",
        fleet: "Fleet Info",
        fleetDesc: "Review transport vehicles",
        tasks: "Team Tasks",
        tasksDesc: "Assign and manage internal tasks",
        progress: "Project Progress",
        progressDesc: "Review timeline progress",
        dockView: "Dock View",
        dockViewDesc: "View and manage dock operations in 3D visualization",

        add: "Add",
        addDesc: "Add a new entry",
        edit: "Edit",
        editDesc: "Edit existing entry",
        activate: "Activate",
        activateDesc: "Activate selected entity",
        deactivate: "Deactivate",
        deactivateDesc: "Deactivate selected entity",

        manageOrganizations: "Manage Organizations",
        manageOrganizationsDesc: "Create and manage organizations",
        manageRepresentatives: "Manage Representatives",
        manageRepresentativesDesc: "Create and manage representatives",

        addUserDesc: "Add a new system user",
        editUserDesc: "Edit existing user details and role",

        manageVessels: "Manage Vessels",
        manageVesselsDesc: "Create, edit or manage vessels and their information",
      },

      roles: {
        Representative: "Representative",
        PortAuthorityOfficer: "Port Authority Officer",
        LogisticsOperator: "Logistics Operator",
        ProjectManager: "Project Manager"
      },

      manageOrganizations: {
        title: "Manage Organizations",
        create: "Create Organization",
        createDesc: "Register a new organization",
        id: "Organization ID",
        legalName: "Legal Name",
        alternativeName: "Alternative Name",
        address: "Address",
        taxNumber: "Tax Number",
        representativeSection: "Representatives",
        name: "Name",
        citizenId: "Citizen ID",
        nationality: "Nationality",
        email: "Email",
        phoneNumber: "Phone Number",
        removeRepresentative: "Remove Representative",
        addRepresentative: "Add Representative",
        cancel: "Cancel",
        missingFields: "Please fill in all required fields",
        createSuccess: "Organization created successfully",
        createError: "Error creating organization",
        // NEW KEY
        createdSuccess: "Organization created successfully."
      },

      manageRepresentatives: {
        // NEW/UPDATED KEYS
        title: "Manage Representatives",
        organizationsTitle: "Organizations",
        listTitle: "Representatives List",
        changeStatus: "Change Status",
        changeStatusTitle: "Change Representative Status",
        currentStatus: "Current Status",

        name: "Name",
        citizenId: "Citizen ID",
        nationality: "Nationality",
        email: "Email",
        // Old keys for activation/deactivation are kept for compatibility, but the new list management keys are superior
        activateTitle: "Activate Representative",
        activateSubtitle: "Activate an inactive representative",
        searchPlaceholder: "Search representative...", // Used in old file
        searchOrganizationPlaceholder: "Search Organization by ID or Name...", // Used in new file
        refresh: "Refresh",
        status: "Status",
        noInactive: "No inactive representatives",
        enterIdToActivate: "Enter representative ID to activate",
        activate: "Activate",
        loadError: "Error loading representative data",
        invalidId: "Invalid representative ID",
        activateSuccess: "Representative activated successfully",
        activateError: "Error activating representative",

        createTitle: "Create Representative",
        createSubtitle: "Add a new representative",
        organizationId: "Organization ID",
        organizationName: "Organization Name",
        noOrganizations: "No organizations available",
        phone: "Phone",
        loadOrganizationsError: "Error loading organizations",
        organizationRequired: "Organization is required",
        createSuccess: "Representative created successfully.", // Updated value
        createError: "Error creating representative",

        deactivateTitle: "Deactivate Representative",
        deactivateSubtitle: "Deactivate an active representative",
        noActive: "No active representatives",
        enterIdToDeactivate: "Enter representative ID to deactivate",
        deactivate: "Deactivate",
        deactivateSuccess: "Representative deactivated successfully",
        deactivateError: "Error deactivating representative",

        editTitle: "Edit Representative",
        editSubtitle: "Update representative details",
        noRepresentatives: "No representatives found",
        enterId: "Enter representative ID",
        loadRepresentative: "Load representative data",
        saveChanges: "Save Changes",
        cancel: "Cancel",
        updateSuccess: "Representative updated successfully.", // Updated value
        updateError: "Error updating representative",
        dashboardTitle: "Representative Dashboard",
        dashboardSubtitle: "Overview of assigned tasks",

        create: "Create Representative",

        // NEW SUB-OBJECTS
        statusSuccess: {
          activate: "Representative activated successfully.",
          deactivate: "Representative deactivated successfully."
        },
        statusError: {
          activate: "Error activating representative",
          deactivate: "Error deactivating representative"
        }
      },

      vesselScheduling: {
        title: "Vessel Scheduling - Shortest Delay",
        subtitle: "Calculate optimal vessel scheduling to minimize delays",
        targetDate: "Target Date",
        calculateSchedule: "Calculate Schedule",
        calculating: "Calculating...",
        clearResults: "Clear Results",
        error: "Error",
        summaryCards: {
          targetDate: "Target Date",
          totalVessels: "Total Vessels",
          totalDelay: "Total Delay"
        },
        timeUnits: "time units",
        table: {
          title: "Vessel Schedule Details",
          status: "Status",
          vessel: "Vessel",
          arrival: "Arrival",
          departure: "Departure",
          startTime: "Start Time",
          endTime: "End Time",
          duration: "Duration",
          delay: "Delay"
        },
        timeline: { title: "Visual Timeline" }
      },

      manageQualifications: {
        title: "Manage Qualifications",
        listTitle: "Qualifications List",
        refresh: "Refresh",
        filters: "Filters",
        filterByName: "Filter by Name",
        filterByNamePlaceholder: "Search by name...",
        applyFilter: "Apply Filter",
        clearFilter: "Clear Filter",
        name: "Name",
        actions: "Actions",
        edit: "Edit",
        delete: "Delete",
        createTitle: "Create New Qualification",
        namePlaceholder: "Qualification name (e.g., 'Crane Operator')",
        nameHint: "Name must be at least two words with a maximum of 150 characters",
        create: "Create",
        cancel: "Cancel",

        editTitle: "Edit Qualification",
        saveChanges: "Save Changes",
      },

      manageStaffMembers: {
        createTitle: "Create Staff Member",
        name: "Name",
        namePlaceholder: "Staff member name",
        email: "Email",
        emailPlaceholder: "email@example.com",
        phone: "Phone",
        startTime: "Start Time",
        endTime: "End Time",
        qualifications: "Qualifications",
        title: "Manage Staff Members",
        listTitle: "Staff Members List",
        refresh: "Refresh",
        filters: "Filters",
        filterByName: "Filter by Name",
        filterByNamePlaceholder: "Search by name...",
        filterByStatus: "Filter by Status",
        allStatuses: "All Statuses",
        filterByQualification: "Filter by Qualification",
        allQualifications: "All Qualifications",
        applyFilters: "Apply Filters",
        clearFilters: "Clear Filters",
        actions: "Actions",
        edit: "Edit",
        deactivate: "Deactivate",
        reactivate: "Reactivate",

        operationalWindow: "Operational Window",
        status: "Status",
        create: "Create Staff Member",
        cancel: "Cancel",

        editTitle: "Edit Staff Member",
        saveChanges: "Save Changes",
      },

      manageVessels: {
        title: "Manage Vessels",
        listTitle: "Vessels List",
        refresh: "Refresh",
        filters: "Filters",
        filterBySearch: "Search",
        filterBySearchPlaceholder: "Search vessels...",
        filterByName: "Filter by Name",
        filterByNamePlaceholder: "Search by name...",
        filterByOwner: "Filter by Owner",
        filterByOwnerPlaceholder: "Search by owner...",
        filterByOperator: "Filter by Operator",
        filterByOperatorPlaceholder: "Search by operator...",
        applyFilters: "Apply Filters",
        clearFilters: "Clear Filters",
        
        imoNumber: "IMO Number",
        imoNumberPlaceholder: "7 digits",
        name: "Name",
        namePlaceholder: "Vessel name",
        vesselType: "Vessel Type",
        selectVesselType: "Select vessel type",
        owner: "Owner",
        ownerPlaceholder: "Owner name",
        operator: "Operator",
        operatorPlaceholder: "Operator name",
        status: "Status",
        active: "Active",
        inactive: "Inactive",
        actions: "Actions",
        
        createTitle: "Create Vessel",
        editTitle: "Edit Vessel",
        create: "Create Vessel",
        edit: "Edit",
        saveChanges: "Save Changes",
        cancel: "Cancel",
        deactivate: "Deactivate",
        reactivate: "Reactivate",
        
        noVessels: "No vessels found",
        
        imoRequired: "IMO Number is required",
        imoInvalid: "IMO Number must be 7 digits",
        nameRequired: "Name is required",
        vesselTypeRequired: "Vessel Type is required",
        ownerRequired: "Owner is required",
        operatorRequired: "Operator is required",
        
        createSuccess: "Vessel created successfully",
        createError: "Error creating vessel",
        updateSuccess: "Vessel updated successfully",
        updateError: "Error updating vessel",
        deactivateSuccess: "Vessel deactivated successfully",
        reactivateSuccess: "Vessel reactivated successfully",
        confirmDeactivate: "Are you sure you want to deactivate this vessel?",
        confirmReactivate: "Are you sure you want to reactivate this vessel?",
        loadVesselTypesError: "Error loading vessel types",
      },

      manageStorageAreas: {
        createTitle: "Create Storage Area",
        code: "Code",
        codePlaceholder: "Storage area code",
        designation: "Designation",
        designationPlaceholder: "Storage area designation",
        type: "Type",
        coordinates: "Coordinates",
        location: "Location",
        locationPlaceholder: "Location",
        capacity: "Capacity (TEUs)",
        initialDockAssignments: "Initial Dock Assignments",
        title: "Manage Storage Areas",
        listTitle: "Storage Areas List",
        filters: "Filters",
        filterByName: "Filter by Name/Code",
        filterByNamePlaceholder: "Search by name or code...",
        applyFilter: "Apply Filter",
        clearFilter: "Clear Filter",
        refresh: "Refresh",
        actions: "Actions",
        edit: "Edit",
        delete: "Delete",
        cancel: "Cancel",

        dockAssignments: "Dock Assignments",
        create: "Create Storage Area",

        editTitle: "Edit Storage Area",
        saveChanges: "Save Changes",
      },

      manageDocks: {
        title: "Manage Docks",
        listTitle: "Docks List",
        filters: "Filters",
        filterByName: "Filter by Name",
        filterByNamePlaceholder: "Search by dock name...",
        applyFilter: "Apply Filter",
        clearFilter: "Clear Filter",
        refresh: "Refresh",
        name: "Name",
        namePlaceholder: "Dock name",
        location: "Location",
        locationPlaceholder: "Location or coordinates",
        length: "Length (m)",
        depth: "Depth (m)",
        maxDraft: "Max Draft (m)",
        coordinates: "Coordinates (e.g., 0,0)",
        vesselTypes: "Vessel Types",
        actions: "Actions",
        edit: "Edit",
        delete: "Delete",
        createTitle: "Create New Dock",
        cancel: "Cancel",

        create: "Create Dock",

        editTitle: "Edit Dock",
        saveChanges: "Save Changes",
      },
      managePhysicalResources: {
        title: "Manage Physical Resources",
        filtersTitle: "Filters",
        descriptionFilter: "Description",
        descriptionPlaceholder: "Enter description...",
        typeFilter: "Type",
        typePlaceholder: "Enter type...",
        description: "Description",
        type: "Type",
        capacity: "Capacity",
        assignedArea: "Assigned Area",
        setupTime: "Setup Time",
        status: "Status",
        qualifications: "Qualifications",
        createTitle: "Create New Physical Resource",
        editTitle: "Edit Physical Resource",
        changeStatus: "Change Status",
        changeStatusTitle: "Change Resource Status"
      },
      // REMOVED REDUNDANT ROOT-LEVEL KEYS

      vesselVisitNotifications: {
        title: "Manage Vessel Visit Notifications",
        submittedListTitle: "Submitted Notifications",
        refresh: "Refresh",
        noSubmitted: "No submitted notifications available",
        id: "Notification ID",
        vesselName: "Vessel Name",
        status: "Status",
        arrival: "Arrival Time",
        departure: "Departure Time",
        assignedDock: "Assigned Dock",
        actions: "Actions",
        view: "View Details",

        createTitle: "Create New Notification",
        createSubmit: "Create & Submit",
        addCrew: "Add Crew",
        vessel: "Vessel",
        selectVessel: "Select a vessel",
        representative: "Representative",
        representativePlaceholder: "Enter representative name",
        arrivalTime: "Arrival Time",
        departureTime: "Departure Time",
        preferredDock: "Preferred Dock",
        selectDock: "Select a dock",
        physicalResource: "Physical Resource",
        selectPhysicalResource: "Select a physical resource",

        staffListTitle: "Staff Members",
        loadingManifests: "Loading Manifests",
        unloadingManifests: "Unloading Manifests",
        manifest: "Manifest",
        addManifest: "Add Manifest",
        remove: "Remove",
        container: "Container",
        addContainer: "Add Container",
        payloadWeight: "Payload Weight",
        contentsDescription: "Contents Description",

        crew: "Crew Members",
        crewName: "Name",
        crewCitizenId: "Citizen ID",
        crewNationality: "Nationality",

        missingFields: "Please fill in all required fields",
        createSuccess: "Notification created successfully",
        createError: "Error creating notification",
        submitSuccess: "Notification submitted successfully",
        submitError: "Error submitting notification"
      },

      // NEW/UPDATED MANAGE USERS
      manageUsers: {
        title: "User Management",
        // NEW KEYS FROM FILE ANALYSIS
        listTitle: "Registered Users",
        searchPlaceholder: "Search by Name, Email or Role...",
        name: "Name",
        email: "Email",
        role: "Role",
        actions: "Actions",
        edit: "Edit",
        noUsers: "No user found.",
        createTitle: "Add New User",
        editTitle: "Edit User Role",
        emailReadOnly: "Email cannot be changed.",
        nameReadOnly: "Name cannot be changed.",
        cancelEdit: "Cancel Edit",
        loadError: "Error loading users.",
        emailRequired: "Email is required.",
        emailMustBeGmail: "Email must end with @gmail.com",
        emailExists: "This email is already registered.",
        nameRequired: "Name is required.",
        updateSuccessActivation: "User updated; activation email sent successfully.",
        updateError: "Error updating user.",
        createSuccessActivation: "User created; activation email sent successfully.",
        createError: "Error creating user.",
        // KEPT OLD KEYS FOR COMPATIBILITY (they may be redundant but in different parts of the UI)
        checkTitle: "Check if a user exists",
        emailPlaceholder: "User Email",
        checkButton: "Check",
        updateTitle: "Update User Role",
        userFound: "User found",
        updateButton: "Update Role",
        backButton: "Back",
        namePlaceholder: "Name",
        picturePlaceholder: "Picture URL",
        createButton: "Create User",
        cancel: "Cancel",
        emailEmpty: "Email cannot be empty",
        selfModifyError: "You cannot modify your own role",
        serverError: "Server error occurred",
        createSuccess: "User created successfully",
        updateSuccess: "User role updated successfully",
        editSubtitle: "Update user details and role",
        refresh: "Refresh",
        saveChanges: "Save Changes",
        addTitle: "Add New User",
        dashboardTitle: "User Dashboard",
        dashboardSubtitle: "Overview of your user management access",
      },

      // NEW VALIDATION SECTION
      validation: {
        orgIdFormat: "Organization ID must be 1-10 alphanumeric characters.",
        required: "Field is required.",
        taxNumberMinLength: "Tax number too short.",
        citizenIdFormat: "Citizen ID must be 5-20 alphanumeric characters.",
        emailFormat: "Invalid email format.",
        phoneFormat: "Phone number must have 9 digits.",
        duplicateCitizenIdInForm: "Duplicate citizen ID in the form.",
        duplicateEmailInForm: "Duplicate email in the form.",
        duplicatePhoneInForm: "Duplicate phone number in the form.",
        citizenIdExists: "Citizen ID already exists.",
        serverErrorCitizenId: "Server error validating citizen ID.",
        emailMustBeGmail: "Email must be a gmail.com address.",
        emailExists: "Email already exists.",
        serverErrorEmail: "Server error validating email.",
        phoneNumberFormat: "Phone must be 9 digits.",
        phoneNumberExists: "Phone already exists.",
        serverErrorPhone: "Server error validating phone.",
        formInvalid: "Please fix validation errors.",
        orgIdExists: "Organization ID already exists.",
        serverError: "Server error.",
        legalNameExists: "Legal name already exists.",
        taxNumberExists: "Tax number already exists.",
        orgIdNotExists: "Organization ID does not exist."
      },

      common: {
        back: "Back",
        // NEW KEYS
        loading: "Loading",
        formInvalid: "Please fix validation errors.",
        formValidationFailed: "Form validation failed.",
        saveError: "Error while saving",
        previous: "Previous",
        page: "Page",
        next: "Next",
      },

      activation: {
        success: "Account Activated!",
        successMessage: "Your account has been successfully verified and activated. You can now log in to the platform.",
        afterActivation: "You can now return to the login page to access your account.",
        backHome: "Go to Login Page",
        error: "Activation Error",
        errorMessage: "The activation link is invalid or has expired. Please check your email or contact support.",
      },

      accessDenied: {
        title: "Access Denied",
        message: "You do not have the necessary permissions to view this page.",
        backHome: "Go to Dashboard",
      }
    },

    pt: {
      appTitle: "Projeto",
      appSubtitle: "Portal do Trabalho de Grupo",
      menuHome: "Início",
      menuAbout: "Sobre",
      menuGroupMembers: "Membros do Grupo",
      menuFunctionalities: "Funcionalidades",
      userInfo: "Informação do Utilizador",
      hello: "Olá",
      login: "Entrar",
      logout: "Sair",
      heroTitle: "O porto de Amesterdão",
      heroSubtitle: "A caminho de um porto neutro em carbono",
      aboutTitle: "Sobre o Projeto",
      aboutText: "Esta página contém a descrição do projeto e informações do grupo.",
      groupMembersTitle: "Membros do Grupo",

      members: [
        { name: "Aluno Um", number: "Número 1" },
        { name: "Aluno Dois", number: "Número 2" },
        { name: "Aluno Três", number: "Número 3" },
        { name: "Aluno Quatro", number: "Número 4" },
        { name: "Aluno Cinco", number: "Número 5" }
      ],

      // GLOBAL ACTIONS (Used directly via t('edit'), t('create'), etc.)
      actions: "Ações",
      edit: "Editar",
      create: "Criar",
      saveChanges: "Guardar Alterações",
      confirm: "Confirmar",
      cancel: "Cancelar",
      clear: "Limpar",

      userSection: { title: "Utilizador", name: "Nome", email: "Email", role: "Função", status: "Estado", picture: "Foto" },

      adminUI: {
        title: "Painel de Administração",
        subtitle: "Escolha uma ação administrativa:",
        cards: {
          manageStaffMembers: "Gerir Membros do Staff",
          manageStaffMembersDesc: "Criar, editar ou gerir membros do staff e suas qualificações",
          manageQualifications: "Gerir Qualificações",
          manageQualificationsDesc: "Criar, editar ou eliminar qualificações para membros do staff",
          manageVesselVisitNotificationsDesc: "Criar, editar ou gerir notificações de visitas de navios",
          manageVesselVisitNotifications: "Gerir Notificações de Visitas de Navios",
          managePhysicalResources: "Gerir Recursos Fisicos",
          managePhysicalResourcesDesc: "Criar, editar ou gerir recursos fisicos e os seus estados",
        },
        // NEW KEYS
        filter: "Filtrar",
        clear: "Limpar",
        refresh: "Atualizar"
      },
      representativeUI: { title: "Painel de Representante", subtitle: "Resumo das suas tarefas atribuídas" },
      portAuthorityUI: { title: "Painel da Autoridade Portuária", subtitle: "Gestão operacional do porto" },
      logisticsUI: { title: "Painel de Logística", subtitle: "Gestão de carga e transporte" },
      projectManagerUI: { title: "Painel de Gestor de Projeto", subtitle: "Ferramentas de equipa e planeamento" },

      cards: {
        manageUsers: "Gerir Utilizadores",
        manageUsersDesc: "Editar funções e permissões",
        logs: "Registos do Sistema",
        logsDesc: "Ver registos de atividade",
        reports: "Relatórios",
        reportsDesc: "Aceder a relatórios do sistema",
        vesselScheduling: "Agendamento de Navios",
        vesselSchedulingDesc: "Calcular agendamento ótimo de navios para minimizar atrasos",
        manageDocks: "Gerir Docas",
        manageDocksDesc: "Adicionar, editar ou remover docas",
        manageStorageAreas: "Gerir Áreas de Armazenamento",
        manageStorageAreasDesc: "Criar, editar ou remover áreas de armazenamento",
        manageStaffMembers: "Gerir Membros do Staff",
        manageStaffMembersDesc: "Criar, editar ou gerir membros do staff e suas qualificações",
        manageQualifications: "Gerir Qualificações",
        manageQualificationsDesc: "Criar, editar ou eliminar qualificações para membros do staff",
        managePhysicalResources: "Gerir Recursos Físicos",
        managePhysicalResourcesDesc: "Criar, editar ou gerir recursos físicos e seus estados",
        requests: "Gerir Pedidos",
        requestsDesc: "Rever pedidos pendentes",
        info: "Informação da Empresa",
        infoDesc: "Ver dados registados",
        inspection: "Inspeções do Porto",
        inspectionDesc: "Monitorizar dados de inspeções",
        cargo: "Gerir Carga",
        cargoDesc: "Acompanhar cargas atribuídas",
        fleet: "Informação da Frota",
        fleetDesc: "Ver veículos de transporte",
        tasks: "Tarefas da Equipa",
        tasksDesc: "Atribuir e gerir tarefas internas",
        progress: "Progresso do Projeto",
        progressDesc: "Rever evolução da timeline",
        dockView: "Visualização do Porto",
        dockViewDesc: "Visualize e gerencie operações portuárias em 3D",
        manageVesselVisitNotifications: "Gerir Notificações de Visitas de Navios",
        manageVesselVisitNotificationsDesc: "Criar, editar ou gerir notificações de visitas de navios",
        add: "Adicionar",
        addDesc: "Adicionar uma nova entrada",
        edit: "Editar",
        editDesc: "Editar entrada existente",
        activate: "Ativar",
        activateDesc: "Ativar entidade selecionada",
        deactivate: "Desativar",
        deactivateDesc: "Desativar entidade selecionada",

        manageOrganizations: "Gerir Organizações",
        manageOrganizationsDesc: "Criar e gerir organizações",
        manageRepresentatives: "Gerir Representantes",
        manageRepresentativesDesc: "Criar e gerir representantes",

        addUserDesc: "Adicionar um novo utilizador ao sistema",
        editUserDesc: "Editar detalhes e função de um utilizador existente",

        manageVessels: "Gerir Navios",
        manageVesselsDesc: "Criar, editar ou gerir navios e suas informações",
      },


      roles: {
        Representative: "Representante",
        PortAuthorityOfficer: "Oficial da Autoridade Portuária",
        LogisticsOperator: "Operador Logístico",
        ProjectManager: "Gestor de Projeto"
      },

      manageOrganizations: {
        title: "Gerir Organizações",
        create: "Criar Organização",
        createDesc: "Registar uma nova organização",
        id: "ID da Organização",
        legalName: "Nome Legal",
        alternativeName: "Nome Alternativo",
        address: "Morada",
        taxNumber: "NIF",
        representativeSection: "Representantes",
        name: "Nome",
        citizenId: "Número de Identificação",
        nationality: "Nacionalidade",
        email: "Email",
        phoneNumber: "Telefone",
        removeRepresentative: "Remover Representante",
        addRepresentative: "Adicionar Representante",
        cancel: "Cancelar",
        missingFields: "Preencha todos os campos obrigatórios",
        createSuccess: "Organização criada com sucesso",
        createError: "Erro ao criar organização",
        // NEW KEY
        createdSuccess: "Organização criada com sucesso."
      },

      manageRepresentatives: {
        // NEW/UPDATED KEYS
        title: "Gerir Representantes",
        organizationsTitle: "Organizações",
        listTitle: "Lista de Representantes",
        changeStatus: "Alterar Estado",
        changeStatusTitle: "Alterar Estado do Representante",
        currentStatus: "Estado Atual",

        name: "Nome",
        citizenId: "Número de Identificação",
        nationality: "Nacionalidade",
        email: "Email",
        activateTitle: "Ativar Representante",
        activateSubtitle: "Ativar um representante inativo",
        searchPlaceholder: "Procurar representante...",
        searchOrganizationPlaceholder: "Pesquisar Organização por ID ou Nome...",
        refresh: "Atualizar",
        status: "Estado",
        noInactive: "Nenhum representante inativo",
        enterIdToActivate: "Introduza o ID do representante para ativar",
        activate: "Ativar",
        loadError: "Erro ao carregar dados do representante",
        invalidId: "ID do representante inválido",
        activateSuccess: "Representante ativado com sucesso",
        activateError: "Erro ao ativar representante",

        createTitle: "Criar Representante",
        createSubtitle: "Adicionar um novo representante",
        organizationId: "ID da Organização",
        organizationName: "Nome da Organização",
        noOrganizations: "Nenhuma organização disponível",
        phone: "Telefone",
        loadOrganizationsError: "Erro ao carregar organizações",
        organizationRequired: "Organização é obrigatória",
        createSuccess: "Representante criado com sucesso.",
        createError: "Erro ao criar representante",

        deactivateTitle: "Desativar Representante",
        deactivateSubtitle: "Desativar um representante ativo",
        noActive: "Nenhum representante ativo",
        enterIdToDeactivate: "Introduza o ID do representante para desativar",
        deactivate: "Desativar",
        deactivateSuccess: "Representante desativado com sucesso",
        deactivateError: "Erro ao desativar representante",

        editTitle: "Editar Representante",
        editSubtitle: "Atualizar dados do representante",
        noRepresentatives: "Nenhum representante encontrado",
        enterId: "Introduza o ID do representante",
        loadRepresentative: "Carregar dados do representante",
        saveChanges: "Guardar Alterações",
        cancel: "Cancelar",
        updateSuccess: "Representante atualizado com sucesso.",
        updateError: "Erro ao atualizar representante",
        dashboardTitle: "Painel de Representante",
        dashboardSubtitle: "Resumo das tarefas atribuídas",

        create: "Criar Representante",

        // NEW SUB-OBJECTS
        statusSuccess: {
          activate: "Representante ativado com sucesso.",
          deactivate: "Representante desativado com sucesso."
        },
        statusError: {
          activate: "Erro ao ativar representante",
          deactivate: "Erro ao desativar representante"
        }
      },
      managePhysicalResources: {
        title: "Gerir Recursos Físicos",
        filtersTitle: "Filtros",
        descriptionFilter: "Descrição",
        descriptionPlaceholder: "Introduza a descrição...",
        typeFilter: "Tipo",
        typePlaceholder: "Introduza o tipo...",
        description: "Descrição",
        type: "Tipo",
        capacity: "Capacidade",
        assignedArea: "Área Atribuída",
        setupTime: "Tempo de Preparação",
        status: "Estado",
        qualifications: "Qualificações",
        createTitle: "Criar Novo Recurso Físico",
        editTitle: "Editar Recurso Físico",
        changeStatus: "Alterar Estado",
        changeStatusTitle: "Alterar Estado do Recurso"
      },
      vesselVisitNotifications: {
        title: "Gerir Notificações de Visitas de Navios",
        submittedListTitle: "Notificações Submetidas",
        refresh: "Atualizar",
        noSubmitted: "Não existem notificações submetidas",
        id: "ID da Notificação",
        vesselName: "Nome do Navio",
        status: "Estado",
        arrival: "Hora de Chegada",
        departure: "Hora de Partida",
        assignedDock: "Cais Atribuído",
        actions: "Ações",
        view: "Ver Detalhes",

        createTitle: "Criar Nova Notificação",
        createSubmit: "Criar & Submeter",

        addCrew: "Adicionar Tripulação",
        vessel: "Navio",
        selectVessel: "Selecionar um navio",
        representative: "Representante",
        representativePlaceholder: "Introduza o nome do representante",
        arrivalTime: "Hora de Chegada",
        departureTime: "Hora de Partida",
        preferredDock: "Cais Preferencial",
        selectDock: "Selecionar um cais",
        physicalResource: "Recurso Físico",
        selectPhysicalResource: "Selecionar um recurso físico",

        staffListTitle: "Membros da Equipa",
        loadingManifests: "Manifestos de Carga",
        unloadingManifests: "Manifestos de Descarga",
        manifest: "Manifesto",
        addManifest: "Adicionar Manifesto",
        remove: "Remover",
        container: "Contentor",
        addContainer: "Adicionar Contentor",
        payloadWeight: "Peso da Carga",
        contentsDescription: "Descrição do Conteúdo",

        crew: "Tripulação",
        crewName: "Nome",
        crewCitizenId: "Número de Identificação",
        crewNationality: "Nacionalidade",

        missingFields: "Por favor preencha todos os campos obrigatórios",
        createSuccess: "Notificação criada com sucesso",
        createError: "Erro ao criar a notificação",
        submitSuccess: "Notificação submetida com sucesso",
        submitError: "Erro ao submeter a notificação"
      },

      vesselScheduling: {
        title: "Agendamento de Navios - Mínimo Atraso",
        subtitle: "Calcular agendamento ótimo de navios para minimizar atrasos",
        targetDate: "Data Alvo",
        calculateSchedule: "Calcular Agendamento",
        calculating: "A Calcular...",
        clearResults: "Limpar Resultados",
        error: "Erro",
        summaryCards: {
          targetDate: "Data Alvo",
          totalVessels: "Total de Navios",
          totalDelay: "Atraso Total"
        },
        timeUnits: "unidades de tempo",
        table: {
          title: "Detalhes do Agendamento de Navios",
          status: "Estado",
          vessel: "Navio",
          arrival: "Chegada",
          departure: "Partida",
          startTime: "Hora de Início",
          endTime: "Hora de Fim",
          duration: "Duração",
          delay: "Atraso"
        },
        timeline: { title: "Linha do Tempo Visual" }
      },

      manageQualifications: {
        title: "Gerir Qualificações",
        listTitle: "Lista de Qualificações",
        refresh: "Atualizar",
        filters: "Filtros",
        filterByName: "Filtrar por Nome",
        filterByNamePlaceholder: "Procurar por nome...",
        applyFilter: "Aplicar Filtro",
        clearFilter: "Limpar Filtro",
        name: "Nome",
        actions: "Ações",
        edit: "Editar",
        delete: "Eliminar",
        createTitle: "Criar Nova Qualificação",
        namePlaceholder: "Nome da qualificação (ex: 'Operador de Grua')",
        nameHint: "O nome deve ter pelo menos duas palavras com um máximo de 150 caracteres",
        create: "Criar",
        cancel: "Cancelar",

        editTitle: "Editar Qualificação",
        saveChanges: "Guardar Alterações",
      },

      manageStaffMembers: {
        createTitle: "Criar Membro do Staff",
        name: "Nome",
        namePlaceholder: "Nome do membro do staff",
        email: "Email",
        emailPlaceholder: "email@exemplo.com",
        phone: "Telefone",
        startTime: "Hora de Início",
        endTime: "Hora de Fim",
        qualifications: "Qualificações",
        title: "Gerir Membros do Staff",
        listTitle: "Lista de Membros do Staff",
        refresh: "Atualizar",
        filters: "Filtros",
        filterByName: "Filtrar por Nome",
        filterByNamePlaceholder: "Procurar por nome...",
        filterByStatus: "Filtrar por Estado",
        allStatuses: "Todos os Estados",
        filterByQualification: "Filtrar por Qualificação",
        allQualifications: "Todas as Qualificações",
        applyFilters: "Aplicar Filtros",
        clearFilters: "Limpar Filtros",
        actions: "Ações",
        edit: "Editar",
        deactivate: "Desativar",
        reactivate: "Reativar",

        operationalWindow: "Janela Operacional",
        status: "Estado",
        create: "Criar Membro do Staff",
        cancel: "Cancelar",

        editTitle: "Editar Membro do Staff",
        saveChanges: "Guardar Alterações",
      },

      manageVessels: {
        title: "Gerir Navios",
        listTitle: "Lista de Navios",
        refresh: "Atualizar",
        filters: "Filtros",
        filterBySearch: "Pesquisar",
        filterBySearchPlaceholder: "Pesquisar navios...",
        filterByName: "Filtrar por Nome",
        filterByNamePlaceholder: "Procurar por nome...",
        filterByOwner: "Filtrar por Proprietário",
        filterByOwnerPlaceholder: "Procurar por proprietário...",
        filterByOperator: "Filtrar por Operador",
        filterByOperatorPlaceholder: "Procurar por operador...",
        applyFilters: "Aplicar Filtros",
        clearFilters: "Limpar Filtros",
        
        imoNumber: "Número IMO",
        imoNumberPlaceholder: "7 dígitos",
        name: "Nome",
        namePlaceholder: "Nome do navio",
        vesselType: "Tipo de Navio",
        selectVesselType: "Selecione o tipo de navio",
        owner: "Proprietário",
        ownerPlaceholder: "Nome do proprietário",
        operator: "Operador",
        operatorPlaceholder: "Nome do operador",
        status: "Estado",
        active: "Ativo",
        inactive: "Inativo",
        actions: "Ações",
        
        createTitle: "Criar Navio",
        editTitle: "Editar Navio",
        create: "Criar Navio",
        edit: "Editar",
        saveChanges: "Guardar Alterações",
        cancel: "Cancelar",
        deactivate: "Desativar",
        reactivate: "Reativar",
        
        noVessels: "Nenhum navio encontrado",
        
        imoRequired: "Número IMO é obrigatório",
        imoInvalid: "Número IMO deve ter 7 dígitos",
        nameRequired: "Nome é obrigatório",
        vesselTypeRequired: "Tipo de Navio é obrigatório",
        ownerRequired: "Proprietário é obrigatório",
        operatorRequired: "Operador é obrigatório",
        
        createSuccess: "Navio criado com sucesso",
        createError: "Erro ao criar navio",
        updateSuccess: "Navio atualizado com sucesso",
        updateError: "Erro ao atualizar navio",
        deactivateSuccess: "Navio desativado com sucesso",
        reactivateSuccess: "Navio reativado com sucesso",
        confirmDeactivate: "Tem certeza que deseja desativar este navio?",
        confirmReactivate: "Tem certeza que deseja reativar este navio?",
        loadVesselTypesError: "Erro ao carregar tipos de navios",
      },

      manageStorageAreas: {
        createTitle: "Criar Área de Armazenamento",
        code: "Código",
        codePlaceholder: "Código da área de armazenamento",
        designation: "Designação",
        designationPlaceholder: "Designação da área de armazenamento",
        type: "Tipo",
        coordinates: "Coordenadas",
        location: "Localização",
        locationPlaceholder: "Localização",
        capacity: "Capacidade (TEUs)",
        initialDockAssignments: "Atribuições Iniciais de Cais",
        title: "Gerir Áreas de Armazenamento",
        listTitle: "Lista de Áreas de Armazenamento",
        filters: "Filtros",
        filterByName: "Filtrar por Nome/Código",
        filterByNamePlaceholder: "Procurar por nome ou código...",
        applyFilter: "Aplicar Filtro",
        clearFilter: "Limpar Filtro",
        refresh: "Atualizar",
        actions: "Ações",
        edit: "Editar",
        delete: "Eliminar",
        cancel: "Cancelar",

        dockAssignments: "Atribuições de Cais",
        create: "Criar Área de Armazenamento",

        editTitle: "Editar Área de Armazenamento",
        saveChanges: "Guardar Alterações",
      },

      manageDocks: {
        title: "Gerir Docas",
        listTitle: "Lista de Docas",
        filters: "Filtros",
        filterByName: "Filtrar por Nome",
        filterByNamePlaceholder: "Procurar por nome da doca...",
        applyFilter: "Aplicar Filtro",
        clearFilter: "Limpar Filtro",
        refresh: "Atualizar",
        name: "Nome",
        namePlaceholder: "Nome da doca",
        location: "Localização",
        locationPlaceholder: "Localização ou coordenadas",
        length: "Comprimento (m)",
        depth: "Profundidade (m)",
        maxDraft: "Calado Máx (m)",
        coordinates: "Coordenadas (ex: 0,0)",
        vesselTypes: "Tipos de Navio",
        actions: "Ações",
        edit: "Editar",
        delete: "Eliminar",
        createTitle: "Criar Nova Doca",
        cancel: "Cancelar",

        create: "Criar Doca",

        editTitle: "Editar Doca",
        saveChanges: "Guardar Alterações",
      },
      // REMOVED REDUNDANT ROOT-LEVEL KEYS

      manageUsers: {
        title: "Gerir Usuários",
        // NEW KEYS FROM FILE ANALYSIS
        listTitle: "Usuários Registados",
        searchPlaceholder: "Pesquisar por Nome, Email ou Role...",
        name: "Nome",
        email: "Email",
        role: "Role",
        actions: "Ações",
        edit: "Editar",
        noUsers: "Nenhum usuário encontrado.",
        createTitle: "Adicionar Novo Usuário",
        editTitle: "Editar Role do Usuário",
        emailReadOnly: "O Email não pode ser alterado.",
        nameReadOnly: "O Nome não pode ser alterado.",
        cancelEdit: "Cancelar Edição",
        loadError: "Erro ao carregar usuários.",
        emailRequired: "O email é obrigatório.",
        emailMustBeGmail: "O email deve terminar em @gmail.com",
        emailExists: "Este email já está registado.",
        nameRequired: "O nome é obrigatório.",
        updateSuccessActivation: "Usuário atualizado; email de ativação enviado com sucesso.",
        updateError: "Erro ao atualizar o usuário.",
        createSuccessActivation: "Usuário criado; email de ativação enviado com sucesso.",
        createError: "Erro ao criar usuário.",
        // KEPT OLD KEYS FOR COMPATIBILITY
        checkTitle: "Verificar se um usuário existe",
        emailPlaceholder: "Email do Utilizador",
        checkButton: "Verificar",
        updateTitle: "Atualizar Função do Utilizador",
        userFound: "Utilizador encontrado",
        updateButton: "Atualizar Função",
        backButton: "Voltar",
        namePlaceholder: "Nome",
        picturePlaceholder: "URL da Imagem",
        createButton: "Criar Utilizador",
        cancel: "Cancelar",
        emailEmpty: "O email não pode estar vazio",
        selfModifyError: "Não pode modificar a sua própria função",
        serverError: "Ocorreu um erro no servidor",
        createSuccess: "Utilizador criado com sucesso",
        updateSuccess: "Função do utilizador atualizada com sucesso",
        editSubtitle: "Atualizar detalhes e função do utilizador",
        refresh: "Atualizar",
        saveChanges: "Guardar Alterações",
        addTitle: "Adicionar Novo Utilizador",
        dashboardTitle: "Painel de Utilizador",
        dashboardSubtitle: "Visão geral do seu acesso à gestão de utilizadores",
      },

      // NEW VALIDATION SECTION
      validation: {
        orgIdFormat: "O ID da Organização deve ter 1-10 caracteres alfanuméricos.",
        required: "Campo de preenchimento obrigatório.",
        taxNumberMinLength: "Número fiscal muito curto.",
        citizenIdFormat: "O ID de Cidadão deve ter 5-20 caracteres alfanuméricos.",
        emailFormat: "Formato de email inválido.",
        phoneFormat: "O número de telefone deve ter 9 dígitos.",
        duplicateCitizenIdInForm: "ID de Cidadão duplicado no formulário.",
        duplicateEmailInForm: "Email duplicado no formulário.",
        duplicatePhoneInForm: "Número de telefone duplicado no formulário.",
        citizenIdExists: "O ID de Cidadão já existe.",
        serverErrorCitizenId: "Erro do servidor ao validar o ID de Cidadão.",
        emailMustBeGmail: "O email deve ser um endereço gmail.com.",
        emailExists: "O email já existe.",
        serverErrorEmail: "Erro do servidor ao validar o email.",
        phoneNumberFormat: "O telefone deve ter 9 dígitos.",
        phoneNumberExists: "O telefone já existe.",
        serverErrorPhone: "Erro do servidor ao validar o telefone.",
        formInvalid: "Por favor, corrija os erros de validação.",
        orgIdExists: "O ID da Organização já existe.",
        serverError: "Erro do servidor.",
        legalNameExists: "O nome legal já existe.",
        taxNumberExists: "O número fiscal já existe.",
        orgIdNotExists: "O ID da Organização não existe."
      },

      common: {
        back: "Voltar",
        // NEW KEYS
        loading: "A carregar",
        formInvalid: "Por favor, corrija os erros de validação.",
        formValidationFailed: "Falha na validação do formulário.",
        saveError: "Erro ao gravar",
        previous: "Anterior",
        page: "Página",
        next: "Próximo",
      },

      activation: {
        success: "Conta Ativada!",
        successMessage: "A sua conta foi verificada e ativada com sucesso. Já pode iniciar sessão na plataforma.",
        afterActivation: "Pode agora regressar à página de início de sessão para aceder à sua conta.",
        backHome: "Ir para a Página de Login",
        error: "Erro de Ativação",
        errorMessage: "O link de ativação é inválido ou expirou. Por favor, verifique o seu email ou contacte o suporte.",
      },

      accessDenied: {
        title: "Acesso Negado",
        message: "Não tem as permissões necessárias para visualizar esta página.",
        backHome: "Ir para o Painel",
      }
    }

  };

  setLanguage(lang: string) {
    if (this.translations[lang]) {
      this.currentLang = lang;
    }
  }

  getLang(): string {
    return this.currentLang;
  }

  translate(key: string): any {
    const path = key.split('.');
    let value = this.translations[this.currentLang];

    for (const segment of path) {
      if (value && value[segment] !== undefined) {
        value = value[segment];
      } else {
        return key; // Return the key if translation is not found
      }
    }

    return value;
  }
}
